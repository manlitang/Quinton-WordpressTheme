var wpbdmv=wpbdmv||{};jQuery(document).ready(function(a){function b(){var b=[],c=a("input#post_ID").val();return a("input#wpbdmv_sc_loop").is(":checked")&&b.push('loop="true"'),a("input#wpbdmv_sc_lazyload").is(":checked")&&b.push('lazyload="true"'),a("input#wpbdmv_sc_autoplay_viewport").is(":checked")&&b.push('autoplay_viewport="true"'),a("input#wpbdmv_sc_autostop_viewport").is(":checked")&&b.push('autostop_viewport="true"'),a("input#wpbdmv_sc_width").val()&&b.push('width="'+a("input#wpbdmv_sc_width").val()+'"'),a("input#wpbdmv_sc_height").val()&&b.push('height="'+a("input#wpbdmv_sc_height").val()+'"'),a("select#wpbdmv_sc_align").val()&&b.push('align="'+a("select#wpbdmv_sc_align").val()+'"'),c?'[bodymovin anim_id="'+c+'" '+b.join(" ")+"]":!1}function c(){a("#wpbdmv_anim_media .assets-list ul li").each(function(){var b=a(this);b.removeClass("asset-missing asset-exists"),b.find(".status").html(""),b.data("asset-url")&&a.ajax({url:b.data("asset-url"),type:"HEAD",error:function(){b.addClass("asset-missing"),b.find(".status").html(wpbdmv.strings.asset_not_found)},success:function(){b.addClass("asset-exists"),b.find(".status").html(wpbdmv.strings.asset_ok)}})})}if(wpbdmv.animations={},"undefined"!=typeof wpbdm_preview_data){var d={container:document.getElementById("wpbdmv-anim-preview"),renderer:jQuery("#wpbdmv_renderer").val(),loop:!0,assetsPath:jQuery("#wpbdmv_assets_path").val(),autoplay:!0,rendererSettings:{progressiveLoad:!1},animationData:wpbdm_preview_data};wpbdmv.animations.wpbdm_preview=bodymovin.loadAnimation(d),wpbdmv.animations.wpbdm_preview.onLoopComplete=function(){a(".wpbdmv-anim-controls").hasClass("repeat")||(a(".wpbdmv-anim-controls").removeClass("playing"),wpbdmv.animations.wpbdm_preview.stop())},a(".wpbdmv-anim-controls").addClass("playing")}a(".wpbdmv-anim-controls").on("click",".play",function(){a(".wpbdmv-anim-controls").addClass("playing"),wpbdmv.animations.wpbdm_preview.play()}),a(".wpbdmv-anim-controls").on("click",".pause",function(){a(".wpbdmv-anim-controls").removeClass("playing"),wpbdmv.animations.wpbdm_preview.pause()}),a(".wpbdmv-anim-controls").on("click",".repeat",function(){a(".wpbdmv-anim-controls").toggleClass("repeat")}),a(".wpbdmv_shortcode_gen_fields").on("change","input, select",function(){b()&&a("#wpbdmv_shortcode").val(b())}),a(".wpbdmv_shortcode_gen_fields input").eq(0).trigger("change"),a("#wpbdmv_anim_media").on("click",".edit-upload-url",function(b){return b.preventDefault(),a(".wpbdmv_assets_path_wrapper").fadeIn(),!1});{var e,f=a("#wpbdmv_anim_media.postbox"),g=f.find(".upload_image_button");f.find(".remove_image_button"),f.find(".custom-img-container"),f.find(".wpbdmv_assets_input")}g.on("click",function(a){return a.preventDefault(),e?void e.open():(e=wp.media({multiple:!0}),e.on("select",function(){c()}),void e.open())}),c()});